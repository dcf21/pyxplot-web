<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta name="generator" content="plasTeX" />
<meta content="text/html; charset=utf-8" http-equiv="content-type" />
<title>: Variables</title>

<link href="sect0020.html" title="The &lt;tt class=&quot;tt&quot;&gt;exec&lt;/tt&gt; command&lt;span id=&quot;a0000000324&quot;&gt;&lt;/span&gt;" rel="next" />
<link href="sect0018.html" title="Script Watching: pyxplot_watch" rel="prev" />
<link href="gnuplot_ext_first.html" title="PyXPlot and the Outside World" rel="up" />
<link rel="stylesheet" href="styles/styles.css" />
</head>
<body>

<div class="navigation">
<table cellspacing="2" cellpadding="0" width="100%">
<tr>
<td><a href="sect0018.html" title="Script Watching: pyxplot_watch"><img alt="Previous: Script Watching: pyxplot_watch" border="0" src="icons/previous.gif" width="32" height="32" /></a></td>

<td><a href="gnuplot_ext_first.html" title="PyXPlot and the Outside World"><img alt="Up: PyXPlot and the Outside World" border="0" src="icons/up.gif" width="32" height="32" /></a></td>

<td><a href="sect0020.html" title="The exec command"><img alt="Next: The exec command" border="0" src="icons/next.gif" width="32" height="32" /></a></td>

<td class="navtitle" align="center">&nbsp;</td>
<td><a href="index.html" title="Table of Contents"><img border="0" alt="" src="icons/contents.gif" width="32" height="32" /></a></td>

<td><a href="sect0158.html" title="Index"><img border="0" alt="" src="icons/index.gif" width="32" height="32" /></a></td>

<td><img border="0" alt="" src="icons/blank.gif" width="32" height="32" /></td>
</tr>
</table>
</div>

<div class="breadcrumbs">
<span>
<span>
<a href="index.html"></a> <b>:</b>
</span>

</span><span>
<span>
<a href="gnuplot_ext_first.html">PyXPlot and the Outside World</a> <b>:</b>
</span>

</span><span>

<span>
<b class="current">Variables</b>
</span>
</span>
<hr />
</div>

<div><h1 id="a0000000030">3.7 Variables</h1>
<p>As has already been hinted at in Section <a href="string_subs_op.html">2.3</a>, PyXPlot recognises two types of variables: numeric variables and string variables. The former can be assigned using any valid mathematical expression. For example: </p><pre>
a = 5.2 * sqrt(64)
</pre><p>would assign the value 41.6 to the variable <tt class="tt">a</tt>. Numerical variables can subsequently be used in mathematical expressions themselves, for example: </p><pre>
a=2*pi
plot [0:1] sin(a*x)
</pre><p>String variables can be assigned in an analogous manner, by enclosing the string in quotation marks. They can then be used wherever a quoted string could be used, for example as a filename or a plot title, as in:<span id="a0000000314"></span> </p><pre>
plotname = "The Growth of a Rabbit Population"
set title plotname
</pre><p>String variables can be modified using the search-and-replace string operator<span id="a0000000315"></span><a class="footnote"><sup class="footnotemark">†</sup><span class="footnotetext">Programmers with experience of <tt class="tt">perl</tt> will recognise this syntax.</span></a>, =<img src="images/img-0011.png" alt="$\sim $" style="position:relative; bottom:2px; width:12px; height:5px" class="math" /><span id="a0000000316"></span>, which takes a regular expression with a syntax similar to that expected by the shell command <tt class="tt">sed</tt><span id="a0000000317"></span> and applies it to the relevant string.<a class="footnote"><sup class="footnotemark">†</sup><span class="footnotetext">Regular expression syntax is a massive subject, and is beyond the scope of this manual. The official GNU documentation for the <tt class="tt">sed</tt> command is heavy reading, but there are many more accessible tutorials on the web.</span></a><span id="a0000000318"></span> For example: </p><pre>
twister="seven silver soda syphons"
twister =~ s/s/th/
print twister
</pre><p>Note that only the <tt class="tt">s</tt> (substitute) command of <tt class="tt">sed</tt> is implemented in PyXPlot. Any character can be used in place of the <tt class="tt">/</tt> characters in the above example, for example: </p><pre>
twister =~ s@s@th@
</pre><p>Flags can be passed, as in <tt class="tt">sed</tt> or <tt class="tt">perl</tt>, for example: </p><pre>
twister =~ s@s@th@g
</pre><p>Table <a href="sect0019.html#re_flags">3.1</a> lists all of the regular expression flags recognised by the =<img src="images/img-0011.png" alt="$\sim $" style="position:relative; bottom:2px; width:12px; height:5px" class="math" /> operator. </p><div id="re_flags" class="table"><table cellspacing="0" class="tabular">
<tr>

    
    <td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left"><p> <tt class="tt">g</tt> </p></td>

    
    <td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left"><p> Replace <i class="it">all</i> matches of the pattern; by default, only the first match is replaced. </p></td>

</tr><tr>

    
    <td style="text-align:left"><p><tt class="tt">i</tt> </p></td>

    
    <td style="text-align:left"><p> Perform case-insensitive matching, such that expressions like <tt class="tt">[A-Z]</tt> will match lowercase letters, too. </p></td>

</tr><tr>

    
    <td style="text-align:left"><p><tt class="tt">l</tt> </p></td>

    
    <td style="text-align:left"><p> Make <tt class="tt"><img src="images/img-0010.png" alt="$\backslash $" style="position:relative; bottom:-5px; width:7px; height:18px" class="math" />w</tt>, <tt class="tt"><img src="images/img-0010.png" alt="$\backslash $" style="position:relative; bottom:-5px; width:7px; height:18px" class="math" />W</tt>, <tt class="tt"><img src="images/img-0010.png" alt="$\backslash $" style="position:relative; bottom:-5px; width:7px; height:18px" class="math" />b</tt>, <tt class="tt"><img src="images/img-0010.png" alt="$\backslash $" style="position:relative; bottom:-5px; width:7px; height:18px" class="math" />B</tt>, <tt class="tt"><img src="images/img-0010.png" alt="$\backslash $" style="position:relative; bottom:-5px; width:7px; height:18px" class="math" />s</tt> and <tt class="tt"><img src="images/img-0010.png" alt="$\backslash $" style="position:relative; bottom:-5px; width:7px; height:18px" class="math" />S</tt> dependent on the current locale. </p></td>

</tr><tr>

    
    <td style="text-align:left"><p><tt class="tt">m</tt> </p></td>

    
    <td style="text-align:left"><p> When specified, the pattern character <tt class="tt"><img src="images/img-0003.png" alt="\^{}" style="position:relative; bottom:10px; width:5px; height:3px" class="accent" /></tt> matches the beginning of the string and the beginning of each line immediately following each newline. The pattern character <tt class="tt">$</tt> matches at the end of the string and the end of each line immediately preceding each newline. By default, <tt class="tt"><img src="images/img-0003.png" alt="\^{}" style="position:relative; bottom:10px; width:5px; height:3px" class="accent" /></tt> matches only the beginning of the string, and <tt class="tt">$</tt> only the end of the string and immediately before the newline, if present, at the end of the string. </p></td>

</tr><tr>

    
    <td style="text-align:left"><p><tt class="tt">s</tt> </p></td>

    
    <td style="text-align:left"><p> Make the <tt class="tt">.</tt> special character match any character at all, including a newline; without this flag, <tt class="tt">.</tt> will match anything except a newline. </p></td>

</tr><tr>

    
    <td style="text-align:left"><p><tt class="tt">u</tt> </p></td>

    
    <td style="text-align:left"><p> Make <tt class="tt"><img src="images/img-0010.png" alt="$\backslash $" style="position:relative; bottom:-5px; width:7px; height:18px" class="math" />w</tt>, <tt class="tt"><img src="images/img-0010.png" alt="$\backslash $" style="position:relative; bottom:-5px; width:7px; height:18px" class="math" />W</tt>, <tt class="tt"><img src="images/img-0010.png" alt="$\backslash $" style="position:relative; bottom:-5px; width:7px; height:18px" class="math" />b</tt>, <tt class="tt"><img src="images/img-0010.png" alt="$\backslash $" style="position:relative; bottom:-5px; width:7px; height:18px" class="math" />B</tt>, <tt class="tt"><img src="images/img-0010.png" alt="$\backslash $" style="position:relative; bottom:-5px; width:7px; height:18px" class="math" />s</tt> and <tt class="tt"><img src="images/img-0010.png" alt="$\backslash $" style="position:relative; bottom:-5px; width:7px; height:18px" class="math" />S</tt> dependent on the Unicode character properties database. </p></td>

</tr><tr>

    
    <td style="border-bottom-width:1px; border-bottom-color:black; border-bottom-style:solid; text-align:left"><p><tt class="tt">x</tt> </p></td>

    
    <td style="border-bottom-width:1px; border-bottom-color:black; border-bottom-style:solid; text-align:left"><p> This flag allows the user to write regular expressions that look nicer. Whitespace within the pattern is ignored, except when in a character class or preceded by an unescaped backslash. When a line contains a <tt class="tt">#</tt>, neither in a character class or preceded by an unescaped backslash, all characters from the leftmost such <tt class="tt">#</tt> through the end of the line are ignored. </p></td>

</tr>
</table><div class="caption"><b>Table 3.1</b>: <span>A list of the flags accepted by the =<img src="images/img-0011.png" alt="$\sim $" style="position:relative; bottom:2px; width:12px; height:5px" class="math" /> operator. Most are rarely used, but the <tt class="tt">g</tt> flag is very useful. This table is adapted from Guido van Rossum’s<span id="a0000000319"></span> <i class="it">Python Library Reference</i><span id="a0000000320"></span>: <a href="http://docs.python.org/lib/node46.html.">http://docs.python.org/lib/node46.html.</a></span></div><p>  </p></div><p>Strings may also be put together using the string substitution operator, <tt class="tt">%</tt><span id="a0000000321"></span>, which works in a similar fashion to Python string substitution operator<span id="a0000000322"></span>. This is described in detail in Section <a href="string_subs_op.html">2.3</a>. For example, to concatenate the two strings contained in variables <tt class="tt">a</tt> and <tt class="tt">b</tt> into variable <tt class="tt">c</tt> one would run:<span id="a0000000323"></span> </p><pre>
c = "%s%s"%(a,b)
</pre><p>One common practical application of these string operators is to label plots with the title of the data file being plotted, as in: </p><pre>
filename="data_file.dat"
title="A plot of the data in {\tt %s}."%(filename)
title=~s/_/\_/g # Underscore is a reserved character in LaTeX
set title title
plot filename
</pre></div>



<div class="navigation">
<table cellspacing="2" cellpadding="0" width="100%">
<tr>
<td><a href="sect0018.html" title="Script Watching: pyxplot_watch"><img alt="Previous: Script Watching: pyxplot_watch" border="0" src="icons/previous.gif" width="32" height="32" /></a></td>

<td><a href="gnuplot_ext_first.html" title="PyXPlot and the Outside World"><img alt="Up: PyXPlot and the Outside World" border="0" src="icons/up.gif" width="32" height="32" /></a></td>

<td><a href="sect0020.html" title="The exec command"><img alt="Next: The exec command" border="0" src="icons/next.gif" width="32" height="32" /></a></td>

<td class="navtitle" align="center">&nbsp;</td>
<td><a href="index.html" title="Table of Contents"><img border="0" alt="" src="icons/contents.gif" width="32" height="32" /></a></td>

<td><a href="sect0158.html" title="Index"><img border="0" alt="" src="icons/index.gif" width="32" height="32" /></a></td>

<td><img border="0" alt="" src="icons/blank.gif" width="32" height="32" /></td>
</tr>
</table>
</div>

<script language="javascript" src="icons/imgadjust.js" type="text/javascript"></script>

</body>
</html>