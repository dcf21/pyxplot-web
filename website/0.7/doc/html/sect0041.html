<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta name="generator" content="plasTeX" />
<meta content="text/html; charset=utf-8" http-equiv="content-type" />
<title>: Tabulating Functions and Slicing Data Files</title>

<link href="sect0042.html" title="Numerical Integration and Differentiation" rel="next" />
<link href="spline_command.html" title="Datafile Interpolation: Spline Fitting" rel="prev" />
<link href="gnuplot_ext_last.html" title="Numerical Analysis" rel="up" />
<link rel="stylesheet" href="styles/styles.css" />
</head>
<body>

<div class="navigation">
<table cellspacing="2" cellpadding="0" width="100%">
<tr>
<td><a href="spline_command.html" title="Datafile Interpolation: Spline Fitting"><img alt="Previous: Datafile Interpolation: Spline Fitting" border="0" src="icons/previous.gif" width="32" height="32" /></a></td>

<td><a href="gnuplot_ext_last.html" title="Numerical Analysis"><img alt="Up: Numerical Analysis" border="0" src="icons/up.gif" width="32" height="32" /></a></td>

<td><a href="sect0042.html" title="Numerical Integration and Differentiation"><img alt="Next: Numerical Integration and Differentiation" border="0" src="icons/next.gif" width="32" height="32" /></a></td>

<td class="navtitle" align="center">&nbsp;</td>
<td><a href="index.html" title="Table of Contents"><img border="0" alt="" src="icons/contents.gif" width="32" height="32" /></a></td>

<td><a href="sect0158.html" title="Index"><img border="0" alt="" src="icons/index.gif" width="32" height="32" /></a></td>

<td><img border="0" alt="" src="icons/blank.gif" width="32" height="32" /></td>
</tr>
</table>
</div>

<div class="breadcrumbs">
<span>
<span>
<a href="index.html"></a> <b>:</b>
</span>

</span><span>
<span>
<a href="gnuplot_ext_last.html">Numerical Analysis</a> <b>:</b>
</span>

</span><span>

<span>
<b class="current">Tabulating Functions and Slicing Data Files</b>
</span>
</span>
<hr />
</div>

<div><h1 id="a0000000052">6.3 Tabulating Functions and Slicing Data Files</h1>
<p>PyXPlot’s <tt class="tt">tabulate</tt> command<span id="a0000000554"></span> can be used to produce a text file containing the values of a function at a set of points. For example, the following would produce a data file called <tt class="tt">sine.dat</tt> containing a list of values of the sine function: </p><pre>
set output 'sine.dat'
tabulate [-pi:pi] sin(x)
</pre><p>Multiple functions may be tabulated into the same file, either by using the <tt class="tt">using</tt><span id="a0000000555"></span> modifier: </p><pre>
tabulate [0:2*pi] sin(x):cos(x):tan(x) u 1:2:3:4
</pre><p>or by placing them in a comma-separated list, as in the <tt class="tt">plot</tt> command: </p><pre>
tabulate [0:2*pi] sin(x), cos(x), tan(x)
</pre><p>The <tt class="tt">samples</tt> setting can be used to control the number of points that are inserted into the data file:<span id="a0000000556"></span> </p><pre>
set samples 200
</pre><p>If the <img src="images/img-0007.png" alt="$x$" style="position:relative; bottom:0px; width:10px; height:8px" class="math" />-axis is set to be logarithmic then the points at which the functions are evaluated are spaced logarithmically. </p><p>The <tt class="tt">tabulate</tt> command can also be used to select portions of data files for output into a new file. For example, the following would write out the third, sixth and ninth columns of the datafile <tt class="tt">input.dat</tt>, but only when the arcsine of the value in the fourth column is positive: </p><pre>
set output 'filtered.dat'
tabulate 'input.dat' u 3:6:9 select (asin($4)&gt;0)
</pre><p>The <tt class="tt">select</tt><span id="a0000000557"></span>, <tt class="tt">using</tt><span id="a0000000558"></span> and <tt class="tt">every</tt><span id="a0000000559"></span> modifiers operate in the same manner as with the <tt class="tt">plot</tt> command. </p><p>The format used in each column of the output file is chosen automatically with integers and small numbers treated intelligently to produce output which preserves accuracy, but is also easily human-readable. If desired, however, a format statement may be specified using the <tt class="tt">with format</tt> specifier. The syntax for this is similar to that expected by the Python string substitution operator (<tt class="tt">%</tt>)<span id="a0000000560"></span><span id="a0000000561"></span><a class="footnote"><sup class="footnotemark">†</sup><span class="footnotetext">Note that this operator can also be used within PyXPlot; see Section <a href="string_subs_op.html">2.3</a> for details.</span></a>. For example, to tabulate the values of <img src="images/img-0095.png" alt="$x^2$" style="position:relative; bottom:0px; width:17px; height:16px" class="math" /> to very many significant figures one could use: </p><pre>
tabulate x**2 with format "%27.20e"
</pre><p>If there are not enough columns present in the supplied format statement it will be repeated in a cyclic fashion; e.g. in the example above the single supplied format is used for both columns. </p></div>



<div class="navigation">
<table cellspacing="2" cellpadding="0" width="100%">
<tr>
<td><a href="spline_command.html" title="Datafile Interpolation: Spline Fitting"><img alt="Previous: Datafile Interpolation: Spline Fitting" border="0" src="icons/previous.gif" width="32" height="32" /></a></td>

<td><a href="gnuplot_ext_last.html" title="Numerical Analysis"><img alt="Up: Numerical Analysis" border="0" src="icons/up.gif" width="32" height="32" /></a></td>

<td><a href="sect0042.html" title="Numerical Integration and Differentiation"><img alt="Next: Numerical Integration and Differentiation" border="0" src="icons/next.gif" width="32" height="32" /></a></td>

<td class="navtitle" align="center">&nbsp;</td>
<td><a href="index.html" title="Table of Contents"><img border="0" alt="" src="icons/contents.gif" width="32" height="32" /></a></td>

<td><a href="sect0158.html" title="Index"><img border="0" alt="" src="icons/index.gif" width="32" height="32" /></a></td>

<td><img border="0" alt="" src="icons/blank.gif" width="32" height="32" /></td>
</tr>
</table>
</div>

<script language="javascript" src="icons/imgadjust.js" type="text/javascript"></script>

</body>
</html>