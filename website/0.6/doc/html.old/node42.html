<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.70)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>3.8 Datafile Interpolation: Spline Fitting</TITLE>
<META NAME="description" CONTENT="3.8 Datafile Interpolation: Spline Fitting">
<META NAME="keywords" CONTENT="pyxplot">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="pyxplot.css">

<LINK REL="next" HREF="node43.html">
<LINK REL="previous" HREF="node41.html">
<LINK REL="up" HREF="node21.html">
<LINK REL="next" HREF="node43.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html1009"
  HREF="node43.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html1003"
  HREF="node21.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html997"
  HREF="node41.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html1005"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html1007"
  HREF="node179.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1010"
  HREF="node43.html">3.9 Numerical Integration and</A>
<B> Up:</B> <A NAME="tex2html1004"
  HREF="node21.html">3. Extensions of Gnuplot's</A>
<B> Previous:</B> <A NAME="tex2html998"
  HREF="node41.html">3.7 Function Splicing</A>
 &nbsp; <B>  <A NAME="tex2html1006"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html1008"
  HREF="node179.html">Index</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00480000000000000000"></A>
<A NAME="spline_command"></A>
<A NAME="1080"></A>
<BR>
<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">8</SPAN> Datafile Interpolation: Spline Fitting
</H1>

<P>
Gnuplot allows data to be interpolated using its <TT>csplines</TT> plot style,
for example:<A NAME="3220"></A><A NAME="3221"></A>

<P>
<PRE>
plot 'datafile' with smooth csplines
plot 'datafile' with smooth acsplines
</PRE>

<P>
where the upper statement fits a spline through all of the
datapoints, and the lower applies some smoothing to the data first. This syntax
is supported in PyXPlot but deprecated.  A similar effect can be achieved with
the new, more powerful, <TT>spline</TT> command<A NAME="3222"></A>. This has a syntax similar to that of the
<TT>fit</TT> command, for example:

<P>
<PRE>
spline f() 'datafile' index 1 using 2:3
</PRE>

<P>
The function <SPAN CLASS="MATH"><IMG
 WIDTH="38" HEIGHT="35" ALIGN="MIDDLE" BORDER="0"
 SRC="img57.png"
 ALT="$ f(x)$"></SPAN> now becomes a special function, representing a spline fit
to the given datafile. It can be plotted or otherwise used in exactly the same
way as any other function. This approach is more flexible than gnuplot's
syntax, as the spline <SPAN CLASS="MATH"><IMG
 WIDTH="38" HEIGHT="35" ALIGN="MIDDLE" BORDER="0"
 SRC="img57.png"
 ALT="$ f(x)$"></SPAN> can subsequently be spliced together with other
functions (see the previous section), or used in any mathematical operation.
The following code snippet, for example, would fit splines through two
datasets, and then plot the interpolated differences between them, regardless,
for example, of whether the two datasets were sampled at exactly the same <SPAN CLASS="MATH"><IMG
 WIDTH="14" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img9.png"
 ALT="$ x$"></SPAN>
coordinates:

<P>
<PRE>
spline f() 'datafile1'
spline g() 'datafile2'
plot f(x)-g(x)
</PRE>

<P>
Smoothed splines can also be produced:

<P>
<PRE>
spline f() 'datafile1' smooth 1.0
</PRE>

<P>
where the value <SPAN CLASS="MATH"><IMG
 WIDTH="27" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img43.png"
 ALT="$ 1.0$"></SPAN> determines the degree of smoothing to apply;
the higher the value, the more smoothing is applied. The default behaviour is
not to smooth at all (equivalent to <TT>smooth 0.0</TT>); a value of <SPAN CLASS="MATH"><IMG
 WIDTH="27" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img43.png"
 ALT="$ 1.0$"></SPAN>
corresponds to the default amount of smoothing applied in the
<TT>acsplines</TT> plot style.

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html1009"
  HREF="node43.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html1003"
  HREF="node21.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html997"
  HREF="node41.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html1005"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html1007"
  HREF="node179.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1010"
  HREF="node43.html">3.9 Numerical Integration and</A>
<B> Up:</B> <A NAME="tex2html1004"
  HREF="node21.html">3. Extensions of Gnuplot's</A>
<B> Previous:</B> <A NAME="tex2html998"
  HREF="node41.html">3.7 Function Splicing</A>
 &nbsp; <B>  <A NAME="tex2html1006"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html1008"
  HREF="node179.html">Index</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Dominic Ford, 24 November 2006
</ADDRESS>
</BODY>
</HTML>
